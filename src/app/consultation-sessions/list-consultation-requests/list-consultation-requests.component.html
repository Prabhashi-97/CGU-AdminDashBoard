<h1 class="heading margin"><b> Consultation Requests</b></h1>
<!-- <div class="margin">
<mat-card class="card filterCard"> 
  <div>
  <h2 class = "filterTopic ">Find Pending Consultation Requests</h2>
  <form [formGroup] = "filterRequestsForm" (submit) = "filterRequests()">
    <div class="row">
   <div class="column">
    <select class="custom-select sessionType" aria-label="Default select example" formControlName="sessionType">
      <option value ="" >Choose Session Type</option>
      <option>Individual Career Counseling Sessions</option>
      <option>Round Table Discussion</option>
      <option>Soft Skill Development</option>
      <option>Session with an Expert in a Foreign University</option>
      <option>Mockup Interviews</option>
      <option>Session with an Academic Expert</option>
    </select><br><br><br> 
  </div>
  <div class="column1">
  <button mat-raised-button color="primary" class="filter-button">Search</button>
</div>
</div>
</form>
</div>
</mat-card>
</div> -->

<div class="margin">
<mat-card class="card filterCard">  
  <table>
    <tr>
      <td ><h2 class = "filterTopic ">Find Pending Consultation Requests</h2></td>   
      <td width="200px"></td> 
      <td><h2 class = "filterTopic ">Find Scheduled Consultation Sessions</h2></td>
    </tr>
      <tr >
        <td scope="col" class="filter">
          <form [formGroup] = "filterRequestsForm" (submit) = "filterRequests()">
            <div class="row">
           <div class="column">
            <select class="custom-select sessionType" aria-label="Default select example" formControlName="sessionType">
              <option value ="" >Choose Session Type</option>
              <option>Individual Career Counseling Sessions</option>
              <option>Round Table Discussion</option>
              <option>Soft Skill Development</option>
              <option>Session with an Expert in a Foreign University</option>
              <option>Mockup Interviews</option>
              <option>Session with an Academic Expert</option>
            </select><br><br><br> 
          </div>
          <div class="column1">
          <button mat-raised-button color="primary" class="filter-button">Search</button>
        </div>
        </div>
        </form>
      </td>
      <td width="200px"></td> 

        <td scope="col" >
          <form [formGroup] = "filterSessionsForm" (submit) = "filterSessions()">
            <div class="row">
           <div class="column">
            <select class="custom-select sessionType" aria-label="Default select example" formControlName="scheduledSessionType">
              <option value ="" >Choose Session Type</option>
              <option>Individual Career Counseling Sessions</option>
              <option>Round Table Discussion</option>
              <option>Soft Skill Development</option>
              <option>Session with an Expert in a Foreign University</option>
              <option>Mockup Interviews</option>
              <option>Session with an Academic Expert</option>
            </select><br><br><br> 
          </div>
          <div class="column1">
          <button mat-raised-button color="primary" class="filter-button">Search</button>
        </div>
        </div>
        </form>
        </td>    
      </tr>
  </table>
</mat-card>
</div>


<div class="margin">
  <mat-card class="card" role="list">
    <h1 *ngIf="listConsultationRequests">
      Pending Consultation Requests ({{ listConsultationRequests.data.length }})
    </h1>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Student Name</th>
          <th scope="col">session Type</th>
          <th scope="col">Faculty</th>
          <th scope="col">Batch</th>
          <th scope="col">Email Address</th>
          <th scope="col">Consultant</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let request of listConsultationRequests?.data | paginate: { id: 'pagination1', itemsPerPage: 5, currentPage: p}" >
          <td width="220px">
            <span class="undergradname">{{
              request.undergradFName + " " + request.undergradLName
            }}</span>
          </td>
          <td width="200px">
            <span>{{ request.sessionType }}</span>
          </td>
          <td width="100px">
            <span>{{ request.faculty }}</span>
          </td>
          <td width="100px">
            <span>{{ request.batch }}</span>
          </td>
          <td width="170px">
            <span>{{ request.email }}</span>
          </td>
          <td>
            <span >{{ request.consultantFName+ " " + request.consultantLName}}</span>
          </td>
          <td>
            <button mat-raised-button class="send_email" color="primary" [routerLink]="['/consultation-session/email',request.consultation_id]">
              Send Email
            </button>
          </td>
        </tr>
        
      </tbody>
    </table>
    <pagination-controls class="my-pagination" id="pagination1" (pageChange) ="p = $event"></pagination-controls>
  </mat-card>

  

  <mat-card class="card2" role="list">
    <h1 *ngIf="listScheduledSessions">
      Scheduled Consultation Sessions ({{ listScheduledSessions.data.length }})
    </h1>
    <table class="table table-hover">
      <thead>
        <tr>
          <th scope="col">Student Name</th>
          <th scope="col">session Type</th>
          <th scope="col">Faculty</th>
          <th scope="col">Batch</th>
          <th scope="col">Email Address</th>
          
          <th scope="col">Date</th>
          <th scope="col">Time</th>
          <th scope="col">Consultant</th>
          <th scope="col">Action</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let session of listScheduledSessions?.data | paginate: { id: 'pagination2', itemsPerPage: 5, currentPage: p2}">
          <td >
            <span class="undergradname">{{
              session.undergradFName + " " + session.undergradLName
            }}</span>
          </td>
          <td>
            <span>{{ session.sessionType }}</span>
          </td>
          <td >
            <span>{{ session.faculty }}</span>
          </td>
          <td >
            <span>{{ session.batch }}</span>
          </td>
          <td>
            <span >{{ session.email }}</span>
          </td>
          
          <td>
            <span>{{ session.sessionDate | date:'longDate' }}</span>
          </td>
          <td>
            <span>{{ session.sessionTime }}</span>
          </td>
          <td>
            <span>{{ session.consultantFName + " " + session.consultantLName }}</span>
          </td>
          <td>
            <button mat-raised-button class="button-delete" color="warn" [routerLink]="['/consultation-session/delete',session.consultationId]">Delete</button>
        </td>
         
        </tr>
      </tbody>
    </table>
    <pagination-controls class="my-pagination" id="pagination2" (pageChange) ="p2 = $event"></pagination-controls>
  </mat-card>
</div>
